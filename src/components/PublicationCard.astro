---
// FIX: Import the Publication type definition from your types.ts file
import type { Publication } from '@/types'; 

// Define the Props interface to accept a single 'publication' object
interface Props {
    publication: Publication;
}

// Destructure the prop
const { publication } = Astro.props;
---

<div class="border border-gray-200 dark:border-gray-700 p-4 rounded-lg shadow-sm hover:shadow-md transition duration-300 bg-white dark:bg-gray-800">
    <h3 class="text-xl font-semibold text-red-700 dark:text-red-500 mb-1">
        <a href={publication.url || publication.pdf} target="_blank" rel="noopener noreferrer" class="hover:underline">
            {publication.title}
        </a>
    </h3>
    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
        {publication.authors.join(', ')} ({publication.year})
    </p>
    <p class="text-base font-medium mb-3">
        {publication.venue}
    </p>
    
    <div class="flex flex-wrap gap-2 text-sm">
        {publication.url && (
            <a href={publication.url} target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200">
                [Abstract]
            </a>
        )}
        {publication.pdf && (
            <a href={publication.pdf} target="_blank" rel="noopener noreferrer" class="text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-200">
                [PDF]
            </a>
        )}
        {publication.code && (
            <a href={publication.code} target="_blank" rel="noopener noreferrer" class="text-purple-600 hover:text-purple-800 dark:text-purple-400 dark:hover:text-purple-200">
                [Code]
            </a>
        )}
    </div>
    
    {publication.note && (
        <p class="mt-3 text-sm italic text-gray-500 dark:text-gray-400">
            Note: {publication.note}
        </p>
    )}
</div>