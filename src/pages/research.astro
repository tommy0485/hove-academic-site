---
import Layout from '../components/BaseLayout.astro'; // Correct Layout component
import ResearchInterest from '../components/ResearchInterest.astro';
// FIX: Import the correct, existing component file (PublicationCard.astro)
import PublicationCard from '../components/PublicationCard.astro';
import publications from '@/data/publications.json';
import profile from '@/data/profile.json';

const title = "Research";
const description = "Overview of Aaron Hove's research interests, focus areas, and recent publications.";

// Create the meta object needed by BaseLayout.astro (since other pages use it)
const meta = {
  title: title,
  description: description
};
---

<Layout {meta}>
  <article class="prose dark:prose-invert max-w-none">
    <h1 class="font-bold text-4xl mb-6 text-red-700 dark:text-red-500">Research Focus</h1>

    <p class="lead">
      My research is focused on {profile.researchSummary}. I utilize computational methods and data science techniques to address complex problems in areas such as {profile.researchInterests.slice(0, 3).join(', ')}.
    </p>

    <p>
      My primary goal is to finish my education and have a positive impact within the fields of both software engineering and cybersecurity.
    </p>

    <hr class="my-8" />

    <h2 class="font-semibold text-3xl mb-4 text-gray-800 dark:text-gray-200">Key Interests</h2>
    <ul class="list-none p-0 flex flex-wrap gap-4">
      {profile.researchInterests.map((interest) => (
        <ResearchInterest interest={interest} />
      ))}
    </ul>

    <hr class="my-8" />

    <h2 class="font-semibold text-3xl mb-4 text-gray-800 dark:text-gray-200">Recent Publications</h2>

    {publications.length > 0 ? (
      <div class="space-y-6">
        {publications.slice(0, 3).map((pub) => (
          // Use the imported component name
          <PublicationCard publication={pub} /> 
        ))}
      </div>
    ) : (
      <p>No recent publications to display. Check back soon!</p>
    )}

    <div class="mt-8 text-center">
      <a href="/publications/" class="text-lg font-medium text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-200 transition duration-300">
        View All Publications &rarr;
      </a>
    </div>

  </article>
</Layout>